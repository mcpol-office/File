# QQBot AstrBot 插件部署说明

## 前置要求

1. 已安装并配置好 AstrBot
2. Python 3.8+ 环境
3. 网络连接正常（用于天气API和每日一言API）

## 部署步骤

### 方法一：直接复制（推荐）

1. 将整个 `astrbot_plugin_qqbot` 文件夹复制到 AstrBot 的 `data/plugins/` 目录下
2. 重启 AstrBot 或通过管理面板重载插件
3. 插件会自动安装所需依赖

### 方法二：通过Git克隆

```bash
cd AstrBot/data/plugins
git clone https://github.com/your-repo/astrbot_plugin_qqbot.git
```

### 方法三：手动安装依赖

如果自动安装依赖失败，可以手动安装：

```bash
cd astrbot_plugin_qqbot
pip install -r requirements.txt
```

## 配置说明

### 数据存储

插件会在 AstrBot 的数据目录下自动创建 `users.json` 文件，用于存储：
- 用户绑定的QQ号
- 签到记录和等级信息
- 经验值和入币数量

### 天气API

插件使用聚合数据的天气API，API密钥已内置。如需更换，请修改 `main.py` 中的 `get_weather` 方法。

### 每日一言API

使用 `https://api.nxvav.cn/api/yiyan/` 接口，无需配置。

## 验证安装

1. 启动 AstrBot
2. 在聊天中发送 `/帮助` 命令
3. 如果看到帮助信息，说明插件安装成功

## 常见问题

### Q: 插件加载失败
A: 检查Python版本是否为3.8+，确保所有依赖已正确安装

### Q: 天气查询失败
A: 检查网络连接，确认天气API服务正常

### Q: 签到功能不工作
A: 确保用户已绑定QQ号，检查数据文件权限

### Q: 系统状态无法获取
A: 确保已安装 `psutil` 模块

## 卸载方法

1. 在 AstrBot 管理面板中停用插件
2. 删除插件文件夹
3. 如需清理数据，删除 `users.json` 文件

## 技术支持

如遇问题，请：
1. 查看 AstrBot 日志
2. 检查插件配置
3. 联系开发者或提交Issue

## 更新说明

插件支持热重载，修改代码后通过管理面板重载即可，无需重启 AstrBot。 